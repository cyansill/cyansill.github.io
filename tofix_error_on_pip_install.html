<html lang="ZH-CN">
  <head>
    <title>CyanSill | Article</title>
    <meta charset="utf-8" />
    <meta name="page-type" content="article" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/theme/css/highlight/default.min.css" rel="stylesheet" />
    <link href="/theme/css/layui/layui.css" rel="stylesheet" />
    <link href="/theme/css/templates/article.css" rel="stylesheet" />
    <script src="/theme/js/highlight/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
  </head>
  <body>
    <div id="header-nav"></div>
    <div class="head" id="head">
      <h1 onclick="toHome()">CyanSill</h1>
    </div>
    <div class="body layui-card layui-container" id="body">
      <h1>解决因代理出现的pip下载失败问题</h1>
      <div class="article-date">
        发布时间：2024年09月05日
      </div>
      <div class="article-content">
        <h2>问题的出现</h2>
<p>在使用pip安装python包时，出现以下错误：</p>
<div class="highlight"><pre><span></span><code><span class="n">Looking</span> <span class="k">in</span> <span class="n">indexes</span><span class="p">:</span> <span class="n">https</span><span class="p">://</span><span class="n">pypi</span><span class="p">.</span><span class="n">tuna</span><span class="p">.</span><span class="n">tsinghua</span><span class="p">.</span><span class="n">edu</span><span class="p">.</span><span class="n">cn</span><span class="p">/</span><span class="n">simple</span>
<span class="n">WARNING</span><span class="p">:</span> <span class="n">Retrying</span> <span class="p">(</span><span class="n">Retry</span><span class="p">(</span><span class="n">total</span><span class="p">=</span><span class="n">4</span><span class="p">,</span> <span class="n">connect</span><span class="p">=</span><span class="n">None</span><span class="p">,</span> <span class="n">read</span><span class="p">=</span><span class="n">None</span><span class="p">,</span> <span class="n">redirect</span><span class="p">=</span><span class="n">None</span><span class="p">,</span> <span class="n">status</span><span class="p">=</span><span class="n">None</span><span class="p">))</span> <span class="n">after</span> <span class="n">connection</span> <span class="n">broken</span> <span class="n">by</span> <span class="s1">&#39;ProxyError(&#39;</span><span class="n">Cannot</span> <span class="n">connect</span> <span class="n">to</span> <span class="n">proxy</span><span class="p">.</span><span class="s1">&#39;, OSError(0, &#39;</span><span class="n">Error</span><span class="s1">&#39;))&#39;</span><span class="p">:</span> <span class="p">/</span><span class="n">simple</span><span class="p">/</span><span class="n">pelican</span><span class="p">/</span>
<span class="n">WARNING</span><span class="p">:</span> <span class="n">Retrying</span> <span class="p">(</span><span class="n">Retry</span><span class="p">(</span><span class="n">total</span><span class="p">=</span><span class="n">3</span><span class="p">,</span> <span class="n">connect</span><span class="p">=</span><span class="n">None</span><span class="p">,</span> <span class="n">read</span><span class="p">=</span><span class="n">None</span><span class="p">,</span> <span class="n">redirect</span><span class="p">=</span><span class="n">None</span><span class="p">,</span> <span class="n">status</span><span class="p">=</span><span class="n">None</span><span class="p">))</span> <span class="n">after</span> <span class="n">connection</span> <span class="n">broken</span> <span class="n">by</span> <span class="s1">&#39;ProxyError(&#39;</span><span class="n">Cannot</span> <span class="n">connect</span> <span class="n">to</span> <span class="n">proxy</span><span class="p">.</span><span class="s1">&#39;, OSError(0, &#39;</span><span class="n">Error</span><span class="s1">&#39;))&#39;</span><span class="p">:</span> <span class="p">/</span><span class="n">simple</span><span class="p">/</span><span class="n">pelican</span><span class="p">/</span>
<span class="n">WARNING</span><span class="p">:</span> <span class="n">Retrying</span> <span class="p">(</span><span class="n">Retry</span><span class="p">(</span><span class="n">total</span><span class="p">=</span><span class="n">2</span><span class="p">,</span> <span class="n">connect</span><span class="p">=</span><span class="n">None</span><span class="p">,</span> <span class="n">read</span><span class="p">=</span><span class="n">None</span><span class="p">,</span> <span class="n">redirect</span><span class="p">=</span><span class="n">None</span><span class="p">,</span> <span class="n">status</span><span class="p">=</span><span class="n">None</span><span class="p">))</span> <span class="n">after</span> <span class="n">connection</span> <span class="n">broken</span> <span class="n">by</span> <span class="s1">&#39;ProxyError(&#39;</span><span class="n">Cannot</span> <span class="n">connect</span> <span class="n">to</span> <span class="n">proxy</span><span class="p">.</span><span class="s1">&#39;, OSError(0, &#39;</span><span class="n">Error</span><span class="s1">&#39;))&#39;</span><span class="p">:</span> <span class="p">/</span><span class="n">simple</span><span class="p">/</span><span class="n">pelican</span><span class="p">/</span>
<span class="n">WARNING</span><span class="p">:</span> <span class="n">Retrying</span> <span class="p">(</span><span class="n">Retry</span><span class="p">(</span><span class="n">total</span><span class="p">=</span><span class="n">1</span><span class="p">,</span> <span class="n">connect</span><span class="p">=</span><span class="n">None</span><span class="p">,</span> <span class="n">read</span><span class="p">=</span><span class="n">None</span><span class="p">,</span> <span class="n">redirect</span><span class="p">=</span><span class="n">None</span><span class="p">,</span> <span class="n">status</span><span class="p">=</span><span class="n">None</span><span class="p">))</span> <span class="n">after</span> <span class="n">connection</span> <span class="n">broken</span> <span class="n">by</span> <span class="s1">&#39;ProxyError(&#39;</span><span class="n">Cannot</span> <span class="n">connect</span> <span class="n">to</span> <span class="n">proxy</span><span class="p">.</span><span class="s1">&#39;, OSError(0, &#39;</span><span class="n">Error</span><span class="s1">&#39;))&#39;</span><span class="p">:</span> <span class="p">/</span><span class="n">simple</span><span class="p">/</span><span class="n">pelican</span><span class="p">/</span>
<span class="n">WARNING</span><span class="p">:</span> <span class="n">Retrying</span> <span class="p">(</span><span class="n">Retry</span><span class="p">(</span><span class="n">total</span><span class="p">=</span><span class="n">0</span><span class="p">,</span> <span class="n">connect</span><span class="p">=</span><span class="n">None</span><span class="p">,</span> <span class="n">read</span><span class="p">=</span><span class="n">None</span><span class="p">,</span> <span class="n">redirect</span><span class="p">=</span><span class="n">None</span><span class="p">,</span> <span class="n">status</span><span class="p">=</span><span class="n">None</span><span class="p">))</span> <span class="n">after</span> <span class="n">connection</span> <span class="n">broken</span> <span class="n">by</span> <span class="s1">&#39;ProxyError(&#39;</span><span class="n">Cannot</span> <span class="n">connect</span> <span class="n">to</span> <span class="n">proxy</span><span class="p">.</span><span class="s1">&#39;, OSError(0, &#39;</span><span class="n">Error</span><span class="s1">&#39;))&#39;</span><span class="p">:</span> <span class="p">/</span><span class="n">simple</span><span class="p">/</span><span class="n">pelican</span><span class="p">/</span>
<span class="n">ERROR</span><span class="p">:</span> <span class="n">Could</span> <span class="n">not</span> <span class="n">find</span> <span class="n">a</span> <span class="n">version</span> <span class="n">that</span> <span class="n">satisfies</span> <span class="n">the</span> <span class="n">requirement</span> <span class="n">pelican</span> <span class="p">(</span><span class="n">from</span> <span class="n">versions</span><span class="p">:</span> <span class="n">none</span><span class="p">)</span>
<span class="n">ERROR</span><span class="p">:</span> <span class="n">No</span> <span class="n">matching</span> <span class="n">distribution</span> <span class="n">found</span> <span class="k">for</span> <span class="n">pelican</span>
<span class="n">WARNING</span><span class="p">:</span> <span class="n">There</span> <span class="n">was</span> <span class="n">an</span> <span class="n">error</span> <span class="n">checking</span> <span class="n">the</span> <span class="n">latest</span> <span class="n">version</span> <span class="n">of</span> <span class="n">pip</span><span class="p">.</span>
</code></pre></div>

<h2>解决</h2>
<p>该问题一般系代理导致，有两种解决办法。 
1、关闭代理。 
2、配置pip使用代理。 </p>
<p>第一种方法不必赘述。第二种方法如下： 
对于 linux 环境</p>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="n">http_proxy</span><span class="o">=</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">proxyAddress</span><span class="p">:</span><span class="n">proxyPort</span>
<span class="k">export</span><span class="w"> </span><span class="n">https_proxy</span><span class="o">=</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">proxyAddress</span><span class="p">:</span><span class="n">proxyPort</span>
</code></pre></div>

<p>对于 windows 下CMD环境</p>
<div class="highlight"><pre><span></span><code>set http_proxy=http://proxyAddress:proxyPort
set https_proxy=http://proxyAddress:proxyPort
</code></pre></div>

<p>对于 windows 下PowerShell环境</p>
<div class="highlight"><pre><span></span><code>$env:http_proxy=&quot;http://proxyAddress:proxyPort&quot;
$env:https_proxy=&quot;http://proxyAddress:proxyPort&quot;
</code></pre></div>

<p>完成后再次执行 <code>pip install</code> 即可。</p>
      </div>
    </div>

    <script src="/theme/js/jquery/jquery-3.7.1.min.js"></script>
    <script src="/theme/js/components/header-nav.js"></script>    
    <script>
      function toHome() {
        window.location.href = '/';
      }
    </script>
  </body>
</html>